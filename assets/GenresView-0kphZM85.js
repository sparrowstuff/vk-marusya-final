import{d as u,c as m,e as o,f as d,t as p,g as _,h as i,_ as l,a as f,r as y,o as h,F as v,m as j,l as w}from"./index-oZk_w-On.js";const k=["src","alt"],I={class:"genre-card__name"},$=u({__name:"GenreCard",props:{card:{}},setup(c){const t=_(),e=c,s=m(()=>e.card.name_ru||e.card.name),a=m(()=>{if(!e.card.image)return console.warn(`Нет изображения для жанра: ${e.card.name}`),"/images/genres/default.jpg";if(Array.isArray(e.card.image)){const r=e.card.image[0];return typeof r=="string"&&r.trim()?n(r):(console.warn(`Массив изображений пуст для жанра: ${e.card.name}`),"/images/genres/default.jpg")}return typeof e.card.image=="string"&&e.card.image.trim()?n(e.card.image):(console.warn(`Некорректный формат изображения для жанра: ${e.card.name}`,e.card.image),"")}),n=r=>r.startsWith("/")?r:r.startsWith("./")||r.startsWith("../")?r.replace(/^\.+\//,"/"):!r.startsWith("http")&&!r.startsWith("/")?"/"+r:r,g=()=>{const r=e.card.slug||e.card.name;t.push(`/genres/filtered?genre=${encodeURIComponent(r)}`)};return(r,F)=>(i(),o("article",{class:"genre-card",onClick:g},[d("img",{class:"genre-card__img",src:a.value,alt:s.value,width:"290",height:"220"},null,8,k),d("h4",I,p(s.value),1)]))}}),C=l($,[["__scopeId","data-v-95d8774a"]]),G=c=>{const t={action:"Боевик",comedy:"Комедия",drama:"Драма",horror:"Ужасы",fantasy:"Фэнтези",scifi:"Научная фантастика",romance:"Мелодрама",thriller:"Триллер",mystery:"Детектив",animation:"Анимация",adventure:"Приключения",crime:"Криминал",documentary:"Документальный",family:"Семейный",history:"Исторический",music:"Музыкальный",war:"Военный",western:"Вестерн","tv-movie":"Телевизионный","stand-up":"Стендап"},e={action:"/images/genres/action.jpg",comedy:"/images/genres/сomedy.jpg",drama:"/images/genres/drama.webp",horror:"/images/genres/horror.png",fantasy:"/images/genres/fantasy.jpg",scifi:"/images/genres/sci-fi.jpg",romance:"/images/genres/romance.jpg",thriller:"/images/genres/thriller.jpg",mystery:"/images/genres/detective.jpg",animation:"/images/genres/animation.webp",adventure:"/images/genres/adventure.jpg",crime:"/images/genres/crime.jpg",documentary:"/images/genres/documentary.jpg",family:"/images/genres/family.jpg",history:"/images/genres/history.jpg",music:"/images/genres/musical.jpg",war:"/images/genres/war.jpg",western:"/images/genres/western.jpg","tv-movie":"/images/genres/tv-show.jpg","stand-up":"/images/genres/stand-up.jpg"},s=a=>e[a]||"";return c.map((a,n)=>({id:n+1,name:a,name_ru:t[a]||a,image:s(a),slug:a}))},W={key:0,class:"genres-menu"},x={key:1,class:"loader"},B=u({__name:"GenresView",setup(c){const t=f(),e=y([]);return h(async()=>{try{const s=await t.loadGenres();e.value=G(s)}catch(s){console.error("Failed to fetch genres",s)}}),(s,a)=>e.value.length!==0?(i(),o("div",W,[(i(!0),o(v,null,j(e.value,(n,g)=>(i(),w(C,{key:g,card:n},null,8,["card"]))),128))])):(i(),o("span",x))}}),S=l(B,[["__scopeId","data-v-1c55422c"]]);export{S as default};
